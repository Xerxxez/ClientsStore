
@page 
@using System.Data.SqlClient;
@{
   try
   {
       string id = Request.Query["id"]; /*read id to delete*/
       string connectionString = "Data Source=DESKTOP-FTDN9V8\\XERXEZ;Initial Catalog=CSharpStore;Integrated Security=True";
       using (SqlConnection connection = new SqlConnection(connectionString))
       {
         connection.Open();
       
           
        string sql = "DELETE FROM clients WHERE Id=@id";
        using (SqlCommand command = new SqlCommand(sql, connection))
        {
        command.Parameters.AddWithValue("@Id", id); /*adds requested id to id*/
        command.ExecuteNonQuery();          
        } 
        }
    }
        catch(Exception ex)
        {
         
        }

        Response.Redirect("/Clients/Index"); /*user wird zu clients redirected*/
}

  